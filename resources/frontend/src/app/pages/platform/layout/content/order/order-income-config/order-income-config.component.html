<div class="inner-content">
  <button style="margin-bottom: 10px;" nz-button nzType="primary" (click)="add()">
    <span>添加收益配置</span>
  </button>
  <nz-table [nzLoading]="loading"
            [nzData]="listOfData"
            [nzTotal]="currentData.total"
            [nzPageIndex]="currentData.current_page"
            [nzFrontPagination]="false"
            [nzPageSize]="currentData.per_page"
            (nzQueryParams)="onQueryParamsChange($event)">
    <thead>
    <tr>
      <th>配置标题</th>
      <th>VIP佣金</th>
      <th>充值佣金</th>
      <th>消费佣金</th>
      <th>一级比赛佣金</th>
      <th>二级比赛佣金</th>
      <th>代理佣金</th>
      <th>提现费率</th>
      <th>VIP提现费率</th>
      <th>创建时间</th>
      <th>操作</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let data of listOfData">
      <td>{{ data.title}}</td>
      <td>{{ data.vip_commission}}</td>
      <td>{{ data.recharge_commission}}</td>
      <td>{{ data.consume_commission}}</td>
      <td>{{ data.level_1_play_commission}}</td>
      <td>{{ data.level_2_play_commission}}</td>
      <td>{{ data.agent_commission}}</td>
      <td>{{ data.withdraw_point}}</td>
      <td>{{ data.vip_withdraw_point}}</td>
      <td>{{ data.created_at }}</td>
      <td>
        <a (click)="update(data)">编辑</a>
        <nz-divider nzType="vertical"></nz-divider>
        <a (click)="onDelete(data)">删除</a>
      </td>
    </tr>
    </tbody>
  </nz-table>
</div>
<nz-modal [(nzVisible)]="isVisible" nzTitle="编辑订单收益配置" (nzOnCancel)="handleCancel()">
  <div *nzModalContent>
    <form nz-form [formGroup]="validateForm">
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="title">配置标题</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请输入配置标题!">
          <input nz-input formControlName="title" id="title" placeholder="配置标题"/>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="vip_commission">VIP佣金</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请输入VIP佣金!">
          <nz-input-number formControlName="vip_commission" id="vip_commission" [nzSize]="'small'" [nzMin]="0"
                           [nzMax]="1" [nzStep]="0.01"
                           placeholder="VIP佣金"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="recharge_commission">充值佣金</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请输入充值佣金!">
          <nz-input-number formControlName="recharge_commission" id="recharge_commission" [nzSize]="'small'" [nzMin]="0"
                           [nzMax]="1" [nzStep]="0.01"
                           placeholder="充值佣金"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="consume_commission">消费佣金</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请输入消费佣金!">
          <nz-input-number formControlName="consume_commission" id="consume_commission" [nzSize]="'small'" [nzMin]="0"
                           [nzMax]="1" [nzStep]="0.01"
                           placeholder="消费佣金"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="level_1_play_commission">一级比赛佣金</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请输入一级比赛佣金!">
          <nz-input-number formControlName="level_1_play_commission" id="level_1_play_commission" [nzSize]="'small'" [nzMin]="0"
                           [nzMax]="1" [nzStep]="0.01"
                           placeholder="一级比赛佣金"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="level_2_play_commission">二级比赛佣金</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请输入二级比赛佣金!">
          <nz-input-number formControlName="level_2_play_commission" id="level_2_play_commission" [nzSize]="'small'" [nzMin]="0"
                           [nzMax]="1" [nzStep]="0.01"
                           placeholder="二级比赛佣金"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="agent_commission">提现费率</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请输入提现费率!">
          <nz-input-number formControlName="agent_commission" id="agent_commission" [nzSize]="'small'" [nzMin]="0"
                           [nzMax]="1" [nzStep]="0.01"
                           placeholder="提现费率"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="withdraw_point">代理佣金</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请输入代理佣金!">
          <nz-input-number formControlName="withdraw_point" id="withdraw_point" [nzSize]="'small'" [nzMin]="0"
                           [nzMax]="1" [nzStep]="0.01"
                           placeholder="代理佣金"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="vip_withdraw_point">VIP提现费率</nz-form-label>
        <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请输入VIP提现费率!">
          <nz-input-number formControlName="vip_withdraw_point" id="vip_withdraw_point" [nzSize]="'small'" [nzMin]="0"
                           [nzMax]="1" [nzStep]="0.01"
                           placeholder="VIP提现费率"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
  <div *nzModalFooter>
    <button nz-button nzType="default" (click)="handleCancel()">关闭</button>
    <button nz-button nzType="primary" (click)="handleOk()">保存</button>
  </div>
</nz-modal>
